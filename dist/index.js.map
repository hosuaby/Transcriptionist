{"version":3,"file":"index.js","sources":["../node_modules/@commander-js/extra-typings/index.js","../node_modules/@commander-js/extra-typings/esm.mjs","../src/cli.ts","../src/audio-extractor.ts","../src/work-dir.ts","../src/transcriber.ts","../src/captions.ts","../src/corrector.ts","../src/index.ts"],"sourcesContent":["const commander = require('commander');\n\nexports = module.exports = {};\n\n// Return a different global program than commander,\n// and don't also return it as default export.\nexports.program = new commander.Command();\n\n/**\n * Expose classes. The FooT versions are just types, so return Commander original implementations!\n */\n\nexports.Argument = commander.Argument;\nexports.Command = commander.Command;\nexports.CommanderError = commander.CommanderError;\nexports.Help = commander.Help;\nexports.InvalidArgumentError = commander.InvalidArgumentError;\nexports.InvalidOptionArgumentError = commander.InvalidArgumentError; // Deprecated\nexports.Option = commander.Option;\n\n// In Commander, the create routines end up being aliases for the matching\n// methods on the global program due to the (deprecated) legacy default export.\n// Here we roll our own, the way Commander might in future.\nexports.createCommand = (name) => new commander.Command(name);\nexports.createOption = (flags, description) =>\n  new commander.Option(flags, description);\nexports.createArgument = (name, description) =>\n  new commander.Argument(name, description);\n","import extraTypingsCommander from './index.js';\n\n// wrapper to provide named exports for ESM.\nexport const {\n  program,\n  createCommand,\n  createArgument,\n  createOption,\n  CommanderError,\n  InvalidArgumentError,\n  InvalidOptionArgumentError, // deprecated old name\n  Command,\n  Argument,\n  Option,\n  Help,\n} = extraTypingsCommander;\n","import * as path from 'path';\nimport {Command} from '@commander-js/extra-typings';\nimport packageJson from '../package.json';\n\nexport interface Args {\n    videoInputFile: string;\n    srtOutputFile: string;\n    teleprompterFile?: string\n    locale: string;\n}\n\nfunction assertFileExtension(ext: string): (v: string) => void {\n    return (value: string) => {\n        if (!value.endsWith(ext)) {\n            throw new Error(`File should have extension ${ext}!`);\n        }\n        return value;\n    };\n}\n\nconst program = new Command();\n\nprogram\n    .name('transcribe')\n    .description('Tool to transcribe videos using AI.')\n    .version(packageJson.version)\n    .argument('<file>', 'Path to the original video file.')\n    .option('-o, --output <file>',\n        `Full or relative path where the created SubRip Subtitle (.srt) file should be written.\n        By default, it will be saved in the same directory as the input video file.`,\n        assertFileExtension('.srt'))\n    .option('-t, --teleprompt <file>',\n        `Full or relative path to teleprompter text (.txt) file.\n        If not provided, transcription will not be corrected.`,\n        assertFileExtension('.txt'))\n    .option('-l, --locale <string>',\n        'Locale that will be used to transcribe the video (default: en-US).',\n        'en-US')\n    .action((inputFile, options: any) => {\n        const absoluteInputFile = path.resolve(inputFile);\n        program.args[0] = absoluteInputFile;\n\n        if (!options.output) {\n            const outputDir = path.dirname(absoluteInputFile);\n            const fileBasename = path.basename(absoluteInputFile, path.extname(inputFile));\n            options.output = path.join(outputDir, `${fileBasename}.srt`);\n        } else {\n            options.output = path.resolve(options.output);\n        }\n\n        if (options.teleprompt) {\n            options.teleprompt = path.resolve(options.teleprompt);\n        }\n    });\n\nexport function parseArgs(): Args {\n    program.parse();\n    const opts = program.opts() as any;\n\n    return {\n        videoInputFile: program.args[0],\n        srtOutputFile: opts.output,\n        teleprompterFile: opts.teleprompt,\n        locale: opts.locale,\n    };\n}","import ffmpeg from 'fluent-ffmpeg';\n\nexport async function extractAudio(videoInputFile: string, audioOutputFile: string) {\n    console.log(`Extracting audio into ${audioOutputFile}...`);\n\n    await new Promise((resolve, reject) => {\n        ffmpeg()\n            .input(videoInputFile)\n            .output(audioOutputFile)\n            .on('end', () => {\n                console.log(`${audioOutputFile} extracted`);\n                resolve(audioOutputFile);\n            })\n            .on('error', (err: any) => {\n                reject(err);\n            })\n            .run();\n    });\n}","import * as path from 'path';\nimport {mkdirSync, existsSync, writeFileSync, readFileSync} from 'fs';\nimport {SyncPrerecordedResponse} from '@deepgram/sdk';\n\nconst outDir = path.join(__dirname, '..', 'out');\n\nexport class WorkDir {\n    private readonly workDir: string;\n\n    constructor(private readonly videoInputFile: string) {\n        const fileBasename = path.basename(videoInputFile);\n        this.workDir = path.join(outDir, fileBasename);\n\n        if (!existsSync(this.workDir)) {\n            mkdirSync(this.workDir);\n        }\n\n        if (!existsSync(this.transcriptionsDir)) {\n            mkdirSync(this.transcriptionsDir);\n        }\n    }\n\n    public get copiedVideoFile(): string {\n        const ext = path.extname(this.videoInputFile);\n        return path.join(this.workDir, `original.${ext}`);\n    }\n\n    public get audioFile(): string {\n        return path.join(this.workDir, 'audio.wav');\n    }\n\n    public get teleprompterFile(): string {\n        return path.join(this.workDir, 'teleprompter.txt');\n    }\n\n    public get transcriptionsDir(): string {\n        return path.join(this.workDir, 'transcriptions');\n    }\n\n    public isTranscriptionExist(locale: string): boolean {\n        const transcriptionFile = this.transcriptionFile(locale);\n        return existsSync(transcriptionFile);\n    }\n\n    public saveTranscription(locale: string, transcription: SyncPrerecordedResponse) {\n        const transcriptionFile = this.transcriptionFile(locale);\n        writeFileSync(transcriptionFile, JSON.stringify(transcription, null, 2));\n    }\n\n    public loadExistingTranscription(locale: string): SyncPrerecordedResponse {\n        const transcriptionFile = this.transcriptionFile(locale);\n        return JSON.parse(readFileSync(transcriptionFile, 'utf-8'));\n    }\n\n    private transcriptionFile(locale: string): string {\n        return path.join(this.transcriptionsDir, `transcription.${locale}.json`);\n    }\n}","import {createClient, SyncPrerecordedResponse} from '@deepgram/sdk';\nimport {readFileSync} from 'fs';\n\nexport interface DeepgramWord {\n    word: string;\n    start: number;\n    end: number;\n    confidence: number;\n    punctuated_word?: string;\n    speaker?: number;\n    speaker_confidence?: number;\n    language?: string;\n}\n\nexport async function transcribeFile(audioFile: string, locale: string): Promise<SyncPrerecordedResponse> {\n    const deepgramApiKey = process.env['DEEPGRAM_API_KEY'];\n    if (!deepgramApiKey) {\n        throw new Error('Environment variable DEEPGRAM_API_KEY is missing.');\n    }\n\n    const deepgram = createClient(deepgramApiKey);\n\n    console.log('Start transcription...');\n\n    const { result, error } = await deepgram.listen.prerecorded.transcribeFile(\n        readFileSync(audioFile),\n        {\n            model: 'nova-2',\n            language: locale,\n            smart_format: true,\n            punctuate: true,\n            diarize: true,\n        }\n    );\n\n    if (error) {\n        throw error;\n    }\n\n    console.log('Transcription finished!');\n\n    return result;\n}","import {DateTime} from 'luxon';\nimport {DeepgramWord} from './transcriber';\n\nconst wordsPerCluster = 5;\n\ninterface Caption {\n    start: string;\n    end: string;\n    word: string;\n}\n\nexport function generateCaptions(deepgramWords: DeepgramWord[]): string {\n    let clusters: Caption[][] = [];\n    let lastCaption: Caption | null = null;\n    let lastCluster: Caption[] | null = null;\n\n    for (let word of deepgramWords) {\n        const newCaption = deepgramWordToCaption(word);\n\n        const wordCount = lastCluster?.length || 0;\n\n        if (newCaption.start === lastCaption?.end && wordCount < wordsPerCluster) {\n            lastCluster!.push(newCaption);\n        } else {\n            lastCluster = [];\n            lastCluster.push(newCaption);\n            clusters.push(lastCluster);\n        }\n\n        lastCaption = newCaption;\n    }\n\n    let n = 1;\n\n    let allCaptions = '';\n\n    for (let cluster of clusters) {\n        for (let i = 0; i < cluster.length; i++) {\n            const caption = cluster[i];\n            let captionWords = '';\n\n            for (let j = 0; j < cluster.length; j++) {\n                captionWords += j === i\n                    ? `[${cluster[j].word}] `\n                    : `${cluster[j].word} `;\n            }\n\n            const captionStr = `${n}\\n${caption.start} --> ${caption.end}\\n${captionWords}\\n\\n`;\n            n++;\n\n            allCaptions += captionStr;\n        }\n    }\n\n    return allCaptions;\n}\n\nfunction deepgramWordToCaption(deepgramWord: DeepgramWord): Caption {\n    const startStr = secondsToTimecodes(deepgramWord.start);\n    const endStr = secondsToTimecodes(deepgramWord.end);\n\n    return {\n        start: startStr,\n        end: endStr,\n        word: deepgramWord.punctuated_word!,\n    };\n}\n\nfunction secondsToTimecodes(seconds: number): string {\n    return DateTime\n        .fromSeconds(seconds, { zone: 'utc' }).\n        toFormat('HH:mm:ss.SSS');\n}","import * as natural from 'natural';\nimport * as diff from 'fast-array-diff';\nimport {DeepgramWord} from './transcriber';\n\ntype Token = DeepgramWord | string;\n\nfunction isDeepgramWord(token: Token): token is DeepgramWord {\n    return (token as DeepgramWord).word !== undefined;\n}\n\ninterface Segment {\n    removed: DeepgramWord[] | null,\n    inserted: Token[],\n}\n\ninterface NormalizedSegment {\n    removed: DeepgramWord[] | null,\n    inserted: DeepgramWord[],\n    needAdjustment: boolean;    // need to adjust the start and end of words\n}\n\nfunction normalizeWord(word: string): string {\n    return word\n        .normalize('NFD')                   // decomposes the letters and diacritics.\n        .replace(/\\p{Diacritic}/gu, '')     // removes all the diacritics.\n        .replaceAll(/[^\\w']/g, '')          // remove all punctuation\n        .toLowerCase();\n}\n\nfunction compare(transcriptionWord: Token, teleprompterToken: Token): boolean {\n    const normalizedTranscriptionWord = normalizeWord((transcriptionWord as DeepgramWord).punctuated_word!);\n    const normalizedTeleprompterToken = normalizeWord(teleprompterToken as string);\n\n    return normalizedTranscriptionWord === normalizedTeleprompterToken;\n}\n\nfunction avgWordDurationSec(transcribedWords: DeepgramWord[]): number {\n    return transcribedWords\n        .map(word => word.end - word.start)\n        .reduce((total, curr) => total + curr) / transcribedWords.length;\n}\n\n/**\n * Attaches punctuation signs to the previous word.\n * @param tokens  word tokens\n */\nfunction collapsePunctuation(tokens: string[]) {\n    const res = [];\n\n    for (const token of tokens) {\n        if (token.match(/[A-Za-zÀ-ÖØ-öø-ÿ]/)) {\n            res.push(token);\n        } else {\n            res[res.length - 1] += ` ${token}`;\n        }\n    }\n\n    return res;\n}\n\nexport class Corrector {\n    private readonly tokenizer = new natural.RegexpTokenizer({ pattern: /\\s+/ });\n    private readonly teleprompterTokens: string[];\n\n    constructor(teleprompterText: string) {\n        this.teleprompterTokens = collapsePunctuation(this.tokenizer.tokenize(teleprompterText));\n    }\n\n    public correct(transcribedWords: DeepgramWord[]): DeepgramWord[] {\n        const same = diff.same(transcribedWords, this.teleprompterTokens, compare);\n        const similarity = same.length / this.teleprompterTokens.length * 100;\n\n        console.log(`Similarity: ${similarity}%`);\n\n        const patch = diff.getPatch(transcribedWords as Token[], this.teleprompterTokens as Token[], compare);\n        return Corrector.applyPatch(transcribedWords, patch);\n    }\n\n    private static applyPatch(transcribedWords: DeepgramWord[], patch: diff.Patch<Token>): DeepgramWord[] {\n        const segments = Corrector\n            .buildSegments(transcribedWords, patch)\n            .map(Corrector.normalizeSegment);\n        const avgWordDuration = avgWordDurationSec(transcribedWords);\n        const res: DeepgramWord[] = [];\n\n        for (let i = 0; i < segments.length; i++) {\n            const segment = segments[i];\n\n            if (!segment.needAdjustment) {\n                res.push(...segment.inserted);\n            } else if (transcribedWords.length) {\n                // Adjust the start and end of the words\n\n                let startOfSegment = 0;\n                let endOfSegment = 0;\n\n                if (i === 0) {\n                    // Inserted at the beginning of transcription\n                    const nextSegment = segments[i + 1];\n                    startOfSegment = Math.max(nextSegment.inserted[0].start - avgWordDuration * segment.inserted.length, 0);\n                    endOfSegment = nextSegment.inserted[0].start;\n                } else if (i === segments.length - 1) {\n                    // Appended in the end of transcription\n                    const precSegment = segments[i - 1];\n                    startOfSegment = precSegment.inserted[precSegment.inserted.length - 1].end;\n                    endOfSegment = avgWordDuration * segment.inserted.length;\n                } else {\n                    // Insert in the middle of transcription\n                    const precSegment = segments[i - 1];\n                    const nextSegment = segments[i + 1];\n                    startOfSegment = precSegment.inserted[precSegment.inserted.length - 1].end;\n                    endOfSegment = nextSegment.inserted[0].start;\n                }\n\n                const adjustedSegment = Corrector.adjustSegment(segment, startOfSegment, endOfSegment);\n                res.push(...adjustedSegment.inserted);\n            }\n        }\n\n        return res;\n    }\n\n    private static buildSegments(transcribedWords: DeepgramWord[], patch: diff.Patch<Token>): Segment[] {\n        const segments: Segment[] = [];\n\n        let sameStartAt = 0;\n\n        for (const patchItem of patch) {\n            if (sameStartAt !== patchItem.oldPos) {\n                const preservedSlice = transcribedWords.slice(sameStartAt, patchItem.oldPos);\n                segments[sameStartAt] = {\n                    removed: null,\n                    inserted: preservedSlice,\n                };\n            }\n\n            if (patchItem.type === 'add') {\n                segments[patchItem.newPos] ||= {\n                    removed: null,\n                    inserted: [],\n                };\n                segments[patchItem.newPos].inserted = patchItem.items;\n\n                sameStartAt = patchItem.oldPos;\n            } else if (patchItem.items) {\n                // Replace items\n                sameStartAt = patchItem.oldPos + patchItem.items.length;\n                segments[patchItem.oldPos] ||= {\n                    removed: null,\n                    inserted: [],\n                };\n                segments[patchItem.oldPos].removed = patchItem.items as DeepgramWord[];\n            } else {\n                // Simply remove items\n                sameStartAt = patchItem.oldPos + (patchItem as unknown as { length: number }).length;\n            }\n        }\n\n        if (sameStartAt !== transcribedWords.length) {\n            const remainingSlice = transcribedWords.slice(sameStartAt);\n            segments[sameStartAt] = {\n                removed: null,\n                inserted: remainingSlice,\n            };\n        }\n\n        return segments.filter(segment => segment != null);\n    }\n\n    private static normalizeSegment(segment: Segment): NormalizedSegment {\n        if (isDeepgramWord(segment.inserted[0])) {\n            // Inserted segments already contains Deepgram words. It's already normalized.\n            return segment as NormalizedSegment;\n        } else if (segment.removed != null) {\n            // It's a replacement, need to provide durations for inserted words.\n            const firstRemoved = segment.removed[0];\n            const lastRemoved = segment.removed[segment.removed.length - 1];\n            const startOfSegment = firstRemoved.start;\n            const endOfSegment = lastRemoved.end;\n\n            const normalizedSegment: NormalizedSegment = {\n                removed: segment.removed,\n                inserted: [],\n                needAdjustment: true,\n            }\n\n            for (const insertedWord of (segment.inserted as string[])) {\n                normalizedSegment.inserted.push({\n                    word: insertedWord,\n                    punctuated_word: insertedWord,\n                    start: 0,\n                    end: 0,\n                    confidence: 1,\n                });\n            }\n\n            return Corrector.adjustSegment(normalizedSegment, startOfSegment, endOfSegment);\n        } else {\n            // It's a pure insertion. Will need to adjust duration of words after.\n            const normalizedSegment: NormalizedSegment = {\n                removed: null,\n                inserted: [],\n                needAdjustment: true,\n            }\n\n            for (const insertedWord of (segment.inserted as string[])) {\n                normalizedSegment.inserted.push({\n                    word: insertedWord,\n                    punctuated_word: insertedWord,\n                    start: 0,\n                    end: 0,\n                    confidence: 1,\n                });\n            }\n\n            return normalizedSegment;\n        }\n    }\n\n    private static adjustSegment(normalizedSegment: NormalizedSegment,\n                                 startOfSegment: number,\n                                 endOfSegment: number): NormalizedSegment {\n        const segmentDuration = endOfSegment - startOfSegment;\n        const durationPerInsertedWord = segmentDuration / normalizedSegment.inserted.length;\n\n        let startTime = startOfSegment;\n\n        for (const insertedWord of normalizedSegment.inserted) {\n            insertedWord.start = startTime;\n            insertedWord.end = (startTime += durationPerInsertedWord);\n        }\n\n        normalizedSegment.needAdjustment = false;\n\n        return normalizedSegment;\n    }\n}","import {parseArgs} from './cli';\nimport {extractAudio} from './audio-extractor';\nimport {WorkDir} from './work-dir';\nimport {cpSync, writeFileSync, readFileSync} from 'fs';\nimport {transcribeFile} from './transcriber';\nimport {generateCaptions} from './captions';\nimport {Corrector} from './corrector';\nimport chalk from 'chalk';\n\nconst cliArgs = parseArgs();\n\nconst workDir = new WorkDir(cliArgs.videoInputFile);\n\n(async () => {\n    try {\n        console.log(chalk.magenta('Transcriptionist starting transcription'));\n\n        // Copy original video file\n        console.log(chalk.yellow('Step 1:') + ' ' + chalk.blue('Copy original video file'));\n        cpSync(cliArgs.videoInputFile, workDir.copiedVideoFile);\n\n        // Copy teleprompter text file\n        if (cliArgs.teleprompterFile) {\n            console.log(chalk.yellow('Step 2:') + ' ' + chalk.blue('Copy teleprompter text file'));\n            cpSync(cliArgs.teleprompterFile, workDir.teleprompterFile);\n        } else {\n            console.log(chalk.yellow('Step 2:') + ' ' + chalk.blue('Teleprompter text file not provided (do nothing)'));\n        }\n\n        // Extract audio\n        console.log(chalk.yellow('Step 3:') + ' ' + chalk.blue('Extract audio'));\n        await extractAudio(workDir.copiedVideoFile, workDir.audioFile);\n\n        // Transcribe audio\n        let transcription;\n        if (!workDir.isTranscriptionExist(cliArgs.locale)) {\n            console.log(chalk.yellow('Step 4:') + ' ' + chalk.blue('Transcribing audio'));\n            transcription = await transcribeFile(workDir.audioFile, cliArgs.locale);\n            workDir.saveTranscription(cliArgs.locale, transcription);\n        } else {\n            console.log(chalk.yellow('Step 4:') + ' ' + chalk.blue(`Transcription for locale '${cliArgs.locale}' already exists. (do nothing)`));\n            transcription = workDir.loadExistingTranscription(cliArgs.locale);\n        }\n\n        // Get transcription words\n        let transcribedWords = transcription.results.channels[0].alternatives[0].words;\n\n        // Correct words\n        if (cliArgs.teleprompterFile) {\n            console.log(chalk.yellow('Step 5:') + ' ' + chalk.blue('Correcting transcription with the help of teleprompter text file'));\n            const teleprompterText = readFileSync(workDir.teleprompterFile, 'utf-8');\n            const corrector = new Corrector(teleprompterText);\n            transcribedWords = corrector.correct(transcribedWords);\n        } else {\n            console.log(chalk.yellow('Step 5:') + ' ' + chalk.blue('Teleprompter text file not provided (do nothing)'));\n        }\n\n        // Generate captions\n        console.log(chalk.yellow('Step 6:') + ' ' + chalk.blue('Generating captions'));\n        const captionsText = generateCaptions(transcribedWords);\n        writeFileSync(cliArgs.srtOutputFile, captionsText);\n\n        console.log(chalk.green('Success:') + ' ' + `Captions written into ${cliArgs.srtOutputFile}`);\n    } catch (err) {\n        console.error(chalk.red('Error occurred:'), err);\n    }\n})();"],"names":["program","path","existsSync","mkdirSync","writeFileSync","readFileSync","createClient","DateTime","natural","diff","cpSync"],"mappings":"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","x_google_ignoreList":[0,1]}